/**
 * vue-pretty-scroll v1.1.1
 * release at 2020-7-25
 * by Knight Chen
 * github https://github.com/keuby/vue-pretty-scroll#readme
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@better-scroll/core"),require("@better-scroll/scroll-bar"),require("@better-scroll/mouse-wheel")):"function"==typeof define&&define.amd?define(["@better-scroll/core","@better-scroll/scroll-bar","@better-scroll/mouse-wheel"],e):(t=t||self).PrettyScroll=e(t.BScroll,t.ScrollBar,t.MouseWheel)}(this,function(r,t,e){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var n=function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){return null!==t&&"object"===o(t)}function i(t,e){if(!u(e))return t;for(var r in e)t[r]=e[r];return t}var s=(l.prototype.unsubscribe=function(){this.root.removeEventListener(this.event,this.callback)},l);function l(t,e,r){this.root=t,this.event=e,this.callback=r}var c=(f.prototype.observe=function(t){var e,r,n,o,i=(e=t,void 0===(r=this.debounceTime)&&(r=300),function(t){n=t,null!=o&&(clearTimeout(o),o=null),o=setTimeout(function(){e(n)},r)});return this.root.addEventListener(this.event,i),new s(this.root,this.event,i)},f);function f(t){this.event="resize",this.debounceTime=300,this.root=t||window}r.use(t),r.use(e);var p=(h.setDefaultConfig=function(t){h.defaultConfig=i(h.defaultConfig,t)},h.prototype.start=function(t){var e;void 0!==t&&(this.selector=t),this.started&&this.stop(),this.container=this.getContainer(t),null!=this.container&&(e=n(n({},h.defaultConfig),this.config),this.scroll=new r(this.container,e),this.initObserver()),this.started=!0},h.prototype.update=function(){this.started&&(null==this.scroll&&this.start(),this.scroll&&this.scroll.refresh())},h.prototype.stop=function(){null!=this.scroll&&(this.scroll.destroy(),this.scroll=null),null!=this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.container=null,this.started=!1},h.prototype.setConfig=function(t){this.config=i(this.config,t)},h.prototype.getContainer=function(t){return void 0===t&&(t=this.selector),null==t?this.root:"parent"===t?this.root.parentElement:this.root.querySelector(t)},h.prototype.initObserver=function(){var t=this;null!=this.subscription&&(this.subscription.unsubscribe(),this.subscription=null);var e=new c;this.subscription=e.observe(function(){t.update()})},h.defaultConfig={},h);function h(t,e){void 0===e&&(e={}),this.started=!1,this.config={},t instanceof HTMLElement?this.root=t:this.root=document.querySelector(t),this.config=n({},e)}var v={name:"pretty-scroll",inserted:function(t,e){var r=e.value||{},n=r.selector,o=a(r,["selector"]);(t.__scroll=new p(t,o)).start(n)},update:function(t,e){var r,n,o;!function r(e,n){if(e===n)return!0;var t=u(e),o=u(n);if(!t||!o)return!t&&!o&&String(e)===String(n);try{var i=Array.isArray(e),s=Array.isArray(n);if(i&&s)return e.length===n.length&&e.every(function(t,e){return r(t,n[e])});if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(i||s)return!1;var l=Object.keys(e),c=Object.keys(n);return l.length===c.length&&l.every(function(t){return r(e[t],n[t])})}catch(t){return!1}}(e.value,e.oldValue)&&(n=(r=e.value||{}).selector,o=a(r,["selector"]),t.__scroll.setConfig(o),t.__scroll.start(n))},componentUpdated:function(t){t.__scroll&&t.__scroll.update()},unbind:function(t){var e=t.__scroll;e&&e.stop(),t.__scroll=null}},y=["staticClass","staticStyle","class","style","attrs"],d={name:"PrettyScroll",functional:!0,render:function(t,e){var r=e.props,n=r.className,o=r.hasWrapper,i=function(t){var e=t.props,r=(e.hasWrapper,a(e,["hasWrapper"]));for(var n in r)""===r[n]&&(r[n]=!0);for(var o={},i=0,s=y;i<s.length;i++){var n=s[i],l=t.data[n];null!=l&&(o[n]=l)}var c={name:v.name,value:r};return o.directives=[c],o}(e);if(null==o||!1===o)return i.directives[0].value.selector="parent",n&&(i.staticClass?i.staticClass+=" "+n:i.staticClass=n),t("div",i,e.children);var s=i.style||(i.style={});return s.position="relative",s.overflow="hidden",t("div",i,[t("div",{staticClass:n},e.children)])}};return{install:function(t,e){void 0===e&&(e={});var r=e.directiveName,n=e.componentName,o=a(e,["directiveName","componentName"]);p.setDefaultConfig(o),null!=r&&""!==r?v.name=name:r=v.name,null!=n&&""!==n?d.name=name:n=d.name,t.directive(r,v),t.component(n,d)}}});
